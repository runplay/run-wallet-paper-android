<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>run IOTA paper</title>
    <meta name="theme-color" content="#ffffff"/>
    <script>
/*
 *  run IOTA paper - Addresses view wallet
 *
 *  This html page contains the Addresses for your IOTA Seed, see the name for reference
 *  for attaching the Addresses generated to the IOTA ledger.
 *  Page has not been minified for ease of audit, except for Google Crypto code & QR
 *
 *  Open this on any online device, you may need a password to access if Encrypted
 *
 *  You can change the below if you do not want to use the IOTA Field Network nodes
var host="field.carriota.com";
var protocol="https";
var port=443;
 */

var host="riota0.runplay.com";
var protocol="http";
var port=14265;

/*
 *
 * END CHANGE --- do not modify anything past here unless you know what your doing....
 */
</script>
    <script src="https://cdn.rawgit.com/iotaledger/iota.lib.js/a1b2e9e/dist/iota.min.js">
/*
 *   Call direct from the Github IOTA Foundation Javascript library
 *   You can update the version by changing 'a1b2e9e' in the url to the latest, compatibility issues may apply if changing
 */
</script>
    <meta id="vport" name="viewport" content="width=300; initial-scale=1.0; maximum-scale=1.0;" />
    <style type="text/css">
body{background: #fff;color:#000;font-family:monospace;font-size:14px}
section{position:fixed;top:0px;left:0px;bottom:0px;right:0px}
.body{max-width:600px;padding-top:5%;text-align:center;margin-left:auto;margin-right:auto;height:100%}
#wallet .body{padding-top:0px}
#foot{position:fixed;bottom:0px;text-align:right;right:0px;padding:10px;left:0px}
#foot b{display:inline-block;padding-right:15px;padding-bottom:10px}
#message{padding:10px;font-weight:bold;text-align:center;height:20px}
.msg{padding:10px;background:rgbc(0,0,0,0.1)}
textarea{width:500px;height:200px;margin-left:auto;margin-right:auto}
#foot a,#foot a:hover,#foot a:visited{color:#000}
.fold{position:fixed;bottom:0px;left:0px}
.dn{display:none}
.db{display:block}
a{text-decoration:none;color:#000}
.wrap{padding:16px;position:relative}
.scrollIn{position:relative;overflow:hidden;width:100%;height:100%;}
.scrollInY{width:100%;height:100%;overflow:hidden;overflow-y:scroll;overflow-x:hidden;padding-right:36px;clear:both}
.btn{color:#000;display:inline-block;text-decoration:none;margin:10px;padding:6px;-webkit-border-radius:2px;border-radius:2px;border:1px solid #dedede;background:#fefefe}
.ani { animation-duration: 0.6s;animation-fill-mode: both;-webkit-animation-duration: 0.6s;-webkit-animation-fill-mode: both;}
@keyframes paperIn {from {opacity:0;transform: translate3d(0, 150%, 0);}to {opacity:1;transform: translate3d(0, 0, 0);}}
@-webkit-keyframes paperIn {from {opacity:0;-webkit-transform: translate3d(0, 150%, 0);}to {opacity: 1;-webkit-transform: translate3d(0, 0, 0);}}
@-moz-keyframes paperIn {from {opacity:0;-moz-transform: translate3d(0, 150%, 0);}to {opacity: 1;-moz-transform: translate3d(0, 0, 0);}}
.paperIn {display:block;animation-name: paperIn;-webkit-animation-name: paperIn;-moz-animation-name: paperIn;}
@keyframes paperOut {from {opacity:1;transform: translate3d(0, 0, 0);}to {opacity:0;transform: translate3d(0, -150%, 0);}}
@-webkit-keyframes paperOut {from {opacity:1;-webkit-transform: translate3d(0, 0, 0);}to {opacity:0;-webkit-transform: translate3d(0, -150%, 0);}}
@-moz-keyframes paperOut {from {opacity:1;-moz-transform: translate3d(0, 0, 0);}to {opacity:0;-moz-transform: translate3d(0, -150%, 0);}}
.paperOut {display:block;animation-name: paperOut;-webkit-animation-name: paperOut;-moz-animation-name: paperOut;}
input{outline:none;border:1px solid #fff;height:40px;font-size:30px;font-weight:bold;width:90%;background:transparent;border:0px;border-bottom:2px solid rgba(0,0,0,0.5)}
.shake {animation: shake 0.5s}
@keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); }10% { transform: translate(-1px, -2px) rotate(-1deg); }20% { transform: translate(-3px, 0px) rotate(1deg); }
    30% { transform: translate(3px, 2px) rotate(0deg); }40% { transform: translate(1px, -1px) rotate(1deg); }50% { transform: translate(-1px, 2px) rotate(-1deg); }
    60% { transform: translate(-3px, 1px) rotate(0deg); }70% { transform: translate(3px, 1px) rotate(-1deg); }80% { transform: translate(-1px, -1px) rotate(1deg); }
    90% { transform: translate(1px, 2px) rotate(0deg); }100% { transform: translate(1px, -2px) rotate(-1deg); }
}
.eye{display:inline-block;width:20px;height:20px;float:right;margin-left:-25px;margin-top:0px;position:relative;z-index:2;font-size:20px;text-decoration:none}
.toast {z-index:14001;width:200px;height:20px;height:auto;position:absolute;left:50%;margin-left:-100px;bottom:20%;background-color: #383838;color: #F0F0F0;font-family: Calibri;font-size: 20px;padding:10px;text-align:center;border-radius: 2px;-webkit-box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);-moz-box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);box-shadow: 0px 0px 24px -1px rgba(56, 56, 56, 1);}
@keyframes fadeInOut {from {display:block;opacity: 0;} 10%{opacity:1} 80%{opacity:1} to {opacity: 0;display:none; }}
@-webkit-keyframes fadeInOut {from { display:block; opacity: 0; } 10%{opacity:1} 80%{opacity:1} to { opacity: 0; display:none;}}
@-moz-keyframes fadeInOut {from {display:block;opacity: 0;} 10%{opacity:1} 80%{opacity:1} to {opacity: 0;display:none; }}
.fadeInOut {  animation-name: fadeInOut;  -webkit-animation-name: fadeInOut;-moz-animation-name: fadeInOut;animation-duration: 2s;-webkit-animation-duration: 2s;-moz-animation-duration: 2s;}
.address{position:relative;height:30px;margin:1px;}
.address b{display:inline-block;width:30px;padding-top:8px}
.address i{display:inline-block;width:300px;overflow:hidden;padding-top:8px}
table{border-spacing:0px;margin-top:16px}
.lt{width:100%}
.lt tr{height:30px;cursor:pointer}
.lt tr:hover{background:rgba(0,0,0,0.05)}
.lt td{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:300px;padding-left:8px;margin:0px;padding-bottom:5px}
.lt em{display:block;height:100%;background:rgba(0,0,0,0.05);min-width:100px;padding:8px;text-align:right;font-weight:bold}
.left{text-align:left}
noscript{display:block;padding:16px;text-align:center;font-weight:bold;z-index:100;color:#fff;
background:rgba(50,50,50,1);border:1px solid rgba(0,0,0,0.15);margin:8px;max-width:500px;margin-left:auto;margin-right:auto}
.alpha50{filter:alpha(opacity=50);opacity: 0.5;-moz-opacity:0.5;}
.alpha25{filter:alpha(opacity=25);opacity: 0.25;-moz-opacity:0.25;}
.alpha10{filter:alpha(opacity=10);opacity: 0.1;-moz-opacity:0.1;}
.aniSpin{
    -webkit-animation:spin 4s linear infinite;
    -moz-animation:spin 4s linear infinite;
    animation:spin 4s linear infinite;
}
@-moz-keyframes spin { 100% { -moz-transform: rotate(360deg); } }
@-webkit-keyframes spin { 100% { -webkit-transform: rotate(360deg); } }
@keyframes spin { 100% { -webkit-transform: rotate(360deg); transform:rotate(360deg); } }
.bgg{background:rgba(0,0,0,0.1)}
.bgw{background:rgba(255,255,255,0.1)}
</style>
</head>
<body>
<noscript>run IOTA paper wallet requires Javascript to be enabled</noscript>
<section id="pass">
    <div class="body">
        <div><small>View wallet</small></div>
        <div><small>name</small></div>
        <h1 id="pname"></h1>

        <div id="msgPass">Enter password</div>
        <div class="wrap">
            <input value="" type="password" name="uPass" id="uPass" class="uPass"/><a href="#toggle-password" onclick="togglePass()" class="eye">üëÅÔ∏è</a>
            <div id="revealPod" class="send"><a id="btn" class="btn" href="#open" onclick="decryptData()">Open wallet</a></div>
            <div id="revealWorking" class="dn"><br/>Opening wallet</div>
            <div id="revealError" class="dn">Error, incorrect password. Decryption failed</div>
        </div>
    </div>
</section>
<section id="wallet" class="dn">
    <div class="scrollIn">
        <div class="scrollInY">
            <div class="body">
                <div><small>View wallet</small></div>
                <h1 id="name"></h1>
                <div>
                    <div id="tools"></div>
                    <div id="msg"></div>
                    <div id="list"></div>
                </div>
            </div>
        </div>
    </div>
</section>
<div id="toast" class="toast dn"></div>
<div id="foot">
    <div><img id="logo" class="" alt="run IOTA paper logo" src="data:image/png;base64,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"/></div>
    <b><a href="http://runplay.com/iota" target="_blank">run IOTA paper</a> - Address Manager</b>
</div>
<form accept-charset="UTF-8">
    <textarea class="dn" id="data" disabled="disabled">$DATA</textarea>
</form>
<input type="text" class="dn" id="cpInp"/>
<script type="text/javascript">
function showMessage(msg) {ihtml("message",msg);}
function ihtml(el,html) {ele(el).innerHTML=html;}
function ele(id) {return document.getElementById(id);}
function cn(id,ct){ele(id).className=ct;}
function dn(id){var t=ele(id);if(t){t.style.display='none'}}
function db(id){var t=ele(id);if(t){t.style.display='block'}}


var addresses=[];
var transfers={};

var name="$NAME";
var iv = "$IV";
var salt="$SALT";
var encrypted=true;
ihtml('name',name);
ihtml('pname',name);
var home=false;

var iota;

var ATTACH_SEED = 'RUN9IOTA9PAPER9V9ONE9999999999999999999999999999999999999999999999999999999999999';
var ATTACH_MESSAGE = "RUN9IOTA9PAPER9";
var ATTACH_TAG = "RUN9IOTA9PAPER9"
var ni;
function attachErrorReTry(ind) {
    if(host=="field.carriota.com") {
        var niota = new IOTA({
            'host': protocol+"://"+host,
            'port': port
        });
        niota.api.getNodeInfo(function(e,s) {
            if(s.fieldPublicId!=ni.fieldPublicId) {
                // ok to try again, different node
                console.log("Try another field node, new: "+s.fieldPublicId+" - old: "+ni.fieldPublicId);
                iota=niota;
                attach(ind);
            } else {
                toast('This node does not allow Attaching Addresses to IOTA, reload this page (F5)');
            }

        });
    } else {
        toast('This node does not allow Attaching Addresses to IOTA');
        drawWallet();
    }
}
var attaching=[];
function removeAttaching(ind) {
    attaching = attaching.filter(function(item) {
        return item !== ind
    })
}
function addAttaching(ind) {
    attaching.push(ind);
}
function isAttaching(ind) {
    for(var i=0; i<attaching.length; i++) {
        if(ind===attaching[i])
            return true;
    }
    return false;
}
function attach(ind) {

    var add=addresses[ind];
    iota.api.getNodeInfo(function(e,s) {
        ni=s;
    });
    if(add) {
        attaching.push(ind);
        drawWallet();
        setWorking(true);
        var weight = 14; //18
        var depth = 8;
        var atransfers = [{
        'address': add.add,
        'value': 0,
        'message': ATTACH_MESSAGE,
        'tag': ATTACH_TAG
        }];
        iota.api.sendTransfer(ATTACH_SEED,depth,weight,atransfers,function(e,s) {
            if (e != null) {
                console.log("*ERROR  sendTransfer() failed");
                console.log(" iota.lib.js returns this error:");
                console.log(e);
                if(e.message.indexOf("COMMAND attachToTangle")) {
                    // node does not allow attach, try a different one
                    attachErrorReTry(ind);
                } else {
                    toast('Problem: '+e);
                    setWorking(false);
                }
                removeAttaching(ind);
            } else {
                removeAttaching(ind);
                setWorking(false);
                cbAttach(ind,s);
            }
        });
    } else {
        toast('Address not found');
    }

}
function getBal() {
    var adds=[];
    for(var i=0; i<addresses.length; i++) {
        adds.push(addresses[i].add);
    }
    if(adds.length>0) {
        iota.api.getBalances(adds,100,function(e,s) {
            if (e != null) {
                console.log("*ERROR  getBalances() failed");
                console.log(" iota.lib.js returns this error:");
                console.log(e);
                toast('Problem: '+e);
            }
            if(s) {
                for(var i=0; i<adds.length; i++) {
                    addresses[i].val=s.balances[i];
                    ihtml('addval'+i,dval(s.balances[i]));
                }
            }
        });
    }
}
var lid=0;
function loadTransfers() {
    lid=0;
    loadTransfersInc();
}
function loadTransfersInc() {
    setWorking(true);
    if(lid>0)
        removeAttaching(lid-1);
    index=lid;
    var gadd=[];
    addAttaching(index);
    if(home)
        refreshWallet();
    gadd.push(addresses[index].add);

    iota.api.findTransactions({ addresses: gadd }, function (e, h) {
        if (e) {
            console.log("*ERROR  loadTransfers() failed");
            console.log(" iota.lib.js returns this error:");
            console.log(e);
            toast('Problem: '+e);
            removeAttaching(lid);
            setWorking(false);
            if(home)
                refreshWallet();

        }
        if(h) {
            iota.api.getTransactionsObjects(h, function (ex, s) {
                if (ex) {
                    console.log("*ERROR  loadTransfers() failed");
                    console.log(" iota.lib.js returns this error:");
                    console.log(e);
                    toast('Problem: '+ex);
                }
                var had=false;
                if(s) {
                    transfers['add'+index]=s;
                    if(s && s.length>0) {
                        if(ele('addatt'+index)) {
                            ihtml('addatt'+index,attImg);
                        }
                        addresses[index].att=true;
                        had=true;

                        iota.api.getLatestInclusion(h, function (ep, p) {
                            if (ex) {
                                console.log("*ERROR  loadTransfers() failed");
                                console.log(" iota.lib.js returns this error:");
                                console.log(e);
                                toast('Problem: '+ex);
                            }
                            var use=transfers['add'+index];
                            for(var l=0; l<use.length; l++) {
                                use[l].persistence=p[l];
                            }
                        });
                    }
                }
                if(had) {
                    lid++;
                    setTimeout("loadTransfersInc()",1000);
                } else {
                    removeAttaching(lid);
                    setWorking(false);
                    if(home)
                        refreshWallet();
                    if(lid<2) {
                        ihtml('msg','Click any '+noAttImg+' to make Address Live on the IOTA ledger');
                    }
                }
            });
        }
    });
}

function cbAttach(ind,s) {
    var add=addresses[ind];
    var trans=[];
    trans.push(s[0]);
    transfers['add'+ind]=trans;
    add.val=0;
    add.att=true;
    toast("Address is now Live on IOTA");
    drawWallet();
}
function drawQr(ind) {
    var add=addresses[ind];
    var sad=add.add.substring(0,30)+"<br/>";
    sad+=add.add.substring(30,60)+"<br/>";
    sad+=add.add.substring(60,add.add.length)+"<br/>";
    paperIn('wallet','ani paperIn');
    ihtml('list','<div><b>'+sad+'</b></div><div><br/><small>right click or long press to save image</small></div><canvas id="qr"></canvas><br/><br/><br/><br/><br/><br/><br/><br/><br/>');
    ihtml('tools','<a href="#back" onclick="drawWallet()" class="btn">Back</a> <a href="#copy" onclick="copy(\''+add.add+'\')" class="btn">Copy '+copyImg+'</a>');
    dQr(mQr(add));
}
function drawWallet() {
    if(!home) {
        paperIn('wallet','ani paperIn');
    }
    refreshWallet();
}
function refreshWallet() {
    home=true;
    ihtml('tools','<a href="#copy" onclick="copy(\'add\')" class="btn">Copy '+copyImg+"</a>");
    var sb=new Sb('<table class="lt"><tr><td>Live</td><td>Index</td><td>Address</td><td>Value</td><td>QR</td></tr>');
    for(var i=0; i<addresses.length; i++) {
        var add=addresses[i];
        sb.app('<tr><td>');
        if(isAttaching(i)) {
            sb.app(noAttImgAni);
        } else if(add.att) {
            sb.app(attImg);
        } else {
            sb.app('<a href="#attach-address" onclick="attach(');
            sb.app(i+"");
            sb.app(')" id="addatt');
            sb.app(i+"");
            sb.app('">');
            sb.app(noAttImg);
            sb.app('</a>');
        }
        sb.app('</td><td>');
        sb.app((add.ind+1)+"");
        sb.app('</td><td title="Click to view transfers for this Address" onclick="drawAddress('+i+')">');
        sb.app(add.add);
        sb.app('</td><td onclick="drawAddress('+i+')"><em id="addval'+i+'">');
        if(add.val!=null) {
            sb.app(dval(add.val));
        } else {
            sb.app(dval(0));
        }
        sb.app('</em></td><td><a href="#qr" onclick="drawQr('+i+')">');
        sb.app(qrcode);
        sb.app('</a></tr>');
    }
    sb.app('</table><br/><br/><br/><br/><br/><br/><br/><br/><br/>');
    ihtml('list',sb.toString());

}
function startWallet() {
    drawWallet();
    try {
        getBal();
    } catch(e) {
        console.log("GetBalances error: "+e);
    }
    try {
        setWorking(true);
        loadTransfers();
    } catch(e) {
        console.log("loadTransfers() error: "+e);
    }


}
function trimSig(sig) {
    if(sig[sig.length-1]!='9')
        return sig;
    var end;
    for(var i=sig.length-1;i>=0;i--) {
        end=i;
        if(sig[i]!='9')
            break;
    }
    return sig.substring(0,end+1);
}
function drawAddress(ind) {
    var add=addresses[ind];
    if(add) {
        home=false;
        var rawAdd=iota.utils.noChecksum(add.add);
        paperIn('wallet','ani paperIn');
        ihtml('tools','<a href="#copy" onclick="drawWallet()" class="btn">Back</a> <a href="#copy" onclick="copy('+ind+',true)" class="btn">Copy '+copyImg+'</a>');
        var trans=transfers['add'+ind];
        if(!trans)
            trans=[];
        trans.sort(function compareNumbers(a, b) {
            return a.timestamp - b.timestamp;
        });
        var sb=new Sb('<table class="lt"><tr><td>Age</td><td>Data</td><td>In / Out</td><td>Status</td><td>Value</td></tr>');
        for(var i=0; i<trans.length; i++) {
            var tran=trans[i];
            if(tran) {
                sb.app('<tr><td>');
                sb.app(friendlyReadDate(new Date(tran.timestamp*1000)));
                sb.app('</td><td class="left" onclick="copy(\''+tran.hash+'\',true)">');
                sb.app(tran.hash);
                sb.app('<br/>'+msgImg+'<small> &nbsp;');
                sb.app(trimSig(tran.signatureMessageFragment));
                sb.app('</small><br/>'+tagImg+'<small> &nbsp;');
                sb.app(tran.tag);
                sb.app('</small></td><td>');
                if(tran.value!=0) {
                    if(tran.value<0) {
                        sb.app(tout);
                    } else {
                        sb.app(tin);
                    }
                } else {
                    sb.app(attImg);
                }
                sb.app('</td><td>');
                sb.app(tran.persistence?comp:ncomp);
                sb.app('</td><td><em>');
                try {
                sb.app(dval(tran.value));
                } catch(e) {}
                sb.app('</em></td></tr>');
            }
        }
        sb.app('</table>');
        if(trans.length==0) {
            sb.app('<div class="msg">No Transfers on this address<br/><br/><a class="btn" href="#attach" onclick="attach(');
            sb.app(ind+'');
            sb.app(');">Attach now</a></div>');
        }
        ihtml('list',sb.toString()+"<br/><br/><br/><br/><br/><br/><br/><br/><br/>");
    } else {
        toast('Address not found');
    }
}
function dval(val) {
    return writedd(getIotaDisplayData(val));
}
function writedd(dd) {
    return getFiatDecimalDisplay(parseFloat(dd.whole+"."+dd.decimal),3)+" <small>"+dd.unit+"</small>";
}
function getIotaDisplayData(val) {
    var json={};
    json.unit=getIotaUnit(val);
    var iot=(iota.utils.convertUnits(val, 'i', json.unit)+"").split(".");
    json.whole=iot[0];
    json.decimal=iot[1]?iot[1]:"0";
    return json;
}
function getIotaUnit(val) {
    val=Math.abs(val);
    var ret='i';
    for(var i=0;i<IotaUnit.length;i++){
        if(val>=IotaUnitValue[i])
            ret=IotaUnit[i];
    }
    return ret;
}
var IotaUnit = ['i','Ki','Mi','Gi','Ti','Pi'];
var IotaUnitValue = [1,1000,1000000,1000000000,1000000000000,1000000000000000];
function getFiatDecimalDisplay(val,dp) {
    var sp=(val+"").split('.');
    if(sp.length>1) {
        dp=!dp?2:dp.length<sp[1].length?dp:sp[1].length;
        if(val>=100)
            return sp[0]+".<small>"+sp[1].substring(0,1)+"</small>";
        else if(val<0.01)
            return sp[0]+"."+sp[1].substring(0,4)+"<small>"+sp[1].substring(4,dp)+"</small>";
        else
            return sp[0]+"."+sp[1].substring(0,2)+"<small>"+sp[1].substring(2,dp)+"</small>";
    }
    return val;
}
function togglePass() {
    var el=ele('uPass');
    if(el.type=='password')
        el.type='text';
    else
        el.type='password';
    el.focus();
}
function paperOut(item) {
    cn(item,'ani paperOut');
    setTimeout("dn('"+item+"')",590);
}
var citem;
function paperIn(item) {
    citem=item;
    db(item);
    cn(item,'ani paperIn');
    setTimeout("wipePaperIn()",1000);
}
function wipePaperIn() {
    cn(citem,'');
}
function goReveal(dataText) {
    iota = new IOTA({
        'host': protocol+"://"+host,
        'port': port
    });
    addresses=JSON.parse(dataText).add;

    paperOut('pass','ani paperOut');
    startWallet();
    setTimeout('wipe()',600000);
}
function wipe() {
    ele('uPass').value="";
    ihtml('revealSeed','');
    ihtml('revealImg','');
    paperOut('wallet');
    paperIn('pass');
}
function copy(info,tran) {
    if(tran) {
        if(info.length>20) {
            if(copyClip(info))
                toast("Transfer Hash copied to clipboard");
        } else {
            if(copyClip(transfersAsCsv(info)))
                toast("Transfer list copied to clipboard");
        }
    } else if(info=='add') {
        if(copyClip(addressAsCsv()))
            toast("Addresses data copied to clipboard");
    } else if(info.length>20) {
        if(copyClip(info))
            toast("Address data copied to clipboard");
    } else {
        toast('Nothing done');
    }
}
function addressAsCsv() {
    var sb=new Sb("Address list\nWallet: "+name);
    var d=new Date();
    sb.app("\nBalances as of: "+d);
    sb.app("\n\n");
    sb.app("\nValue\tAddress\tIndex\n");
    for(var i=0; i<addresses.length;i++) {
        var add=addresses[i];
        sb.app(add.val+"\t");
        sb.app(add.add+"\t");
        sb.app((add.ind+1)+"");
        sb.app("\n");
    }
    sb.app("\n\n");
    return sb.toString();
}
function transfersAsCsv(aind) {
    var add=addresses[aind];
    var trans=transfers["add"+aind];
    var sb=new Sb("Transfer list\nAddress: "+add.add+"\nWallet: "+name);
    var d=new Date();
    sb.app("\nBalances as of: "+d);
    sb.app("\n\n");
    sb.app("\nValue\tCompleted\tHash\tTag\tMessage\n");
    sb.app("\n");
    var rawAdd=iota.utils.noChecksum(add.add);
    for(var i=0; i<trans.length;i++) {
        var tran=trans[i];
        if(tran) {
            sb.app(tran.value+"\t");
            sb.app(tran.persistence+"\t");
            sb.app(tran.hash+"\t");
            sb.app(tran.tag+"\t");
            sb.app(trimSig(tran.signatureMessageFragment));
            sb.app("\n");
        }
    }
    sb.app("\n\n");
    return sb.toString();
}
function copyClip(text) {
    if (window.clipboardData && window.clipboardData.setData) {
        return clipboardData.setData("Text", text);
    } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
        var textarea = document.createElement("textarea");
        textarea.textContent = text;
        textarea.style.position = "fixed";
        document.body.appendChild(textarea);
        textarea.select();
        try {
            return document.execCommand("copy");
        } catch (ex) {
            console.warn("Copy to clipboard failed.", ex);
            toast("Copy to clipboard failed. Try another internet browser");
            return false;
        } finally {
            document.body.removeChild(textarea);
        }
    }
}
function toast(txt) {
    ihtml('toast',txt);
    cn('toast','toast fadeInOut');
    setTimeout("toastout()",2000);
}
function toastout() {
    cn('toast','toast dn');
}
String.prototype.trim = function() {
    return this.replace(/^\s+|\s+$/g, "");
};
function decryptData() {
    setWorking(true);
    dn('revealPod');
    db('revealWorking');
    setTimeout("goDecryptData()",100);
}
function goDecryptData() {
    var el=ele('uPass');
    if(el.type=='text')
        el.type='password';

    var dt = ele('data').value;
    dt.trim();
    var pw=ele('uPass').value;
    var aesUtil = new AesUtil(256, 10000);
    try {
        var dataText = aesUtil.decrypt(salt, iv, pw, dt);
        if(dataText.length>0) {
            goReveal(dataText);
            db('revealPod');
            dn('revealWorking');
            dn('revealError');
            ele('uPass').value="";
            return;
        }
    } catch(e) {
        console.log("Log error.....");
        console.log(e)
    }
    setWorking(false);
    dn('revealWorking');
    db('revealPod');
    db('revealError');
    shake();
    setTimeout("hideError()",3000);
}
function hideError() {
    dn('revealError');
}
function shake() {
    cn('pass','shake');
    setTimeout('wipeShake()',600);
}
function wipeShake() {
    cn('pass','');
}
var AesUtil = function(keySize, iterationCount) {
  this.keySize = keySize / 32;
  this.iterationCount = iterationCount;
};

AesUtil.prototype.generateKey = function(salt, passPhrase) {
  var key = CryptoJS.PBKDF2(
      passPhrase,
      CryptoJS.enc.Hex.parse(salt),
      { keySize: this.keySize, iterations: this.iterationCount });
  return key;
}

AesUtil.prototype.encrypt = function(salt, iv, passPhrase, plainText) {
  var key = this.generateKey(salt, passPhrase);
  var encrypted = CryptoJS.AES.encrypt(
      plainText,
      key,
      { iv: CryptoJS.enc.Hex.parse(iv) });
  return encrypted.ciphertext.toString(CryptoJS.enc.Base64);
}

AesUtil.prototype.decrypt = function(salt, iv, passPhrase, cipherText) {
  var key = this.generateKey(salt, passPhrase);
  var cipherParams = CryptoJS.lib.CipherParams.create({
    ciphertext: CryptoJS.enc.Base64.parse(cipherText)
  });
  var decrypted = CryptoJS.AES.decrypt(
      cipherParams,
      key,
      { iv: CryptoJS.enc.Hex.parse(iv) });
  return decrypted.toString(CryptoJS.enc.Utf8);
}

function Sb(value){
    this.strings = new Array("");
    this.app(value);
}
Sb.prototype.app = function (value){
    if(value) {this.strings.push(value);}
};
Sb.prototype.clear = function (){
    this.strings.length = 1;
};
Sb.prototype.toString = function (){
    return this.strings.join("");
};
function friendlyReadDate(din) {
    var frd="";
    var now = new Date();
    if(!din) {
        frd="Whenever";
    } else {
        if(isToday(now,din)) {
            var mili = now.getTime()-din.getTime();
            mili=parseInt((mili/1000)/60);
            if(mili>59) {
                mili=parseInt(mili/60);
                if(mili<2)
                    frd=mili+" hour";
                else
                    frd=mili+" hours";
            } else {
                if(mili<1)
                    frd="now";
                else if(mili<2)
                    frd=mili+" minute";
                else
                    frd=mili+" minutes";
            }

        } else {
            var dip = getDaysInPast(now,din);
            if(dip<=1) {
                frd= "Yesterday";
            } else {
                frd=dip+" days";
            }
        }

    }
    return frd;
}
function getDateYYYYMMDD(date) {
    return date.getUTCFullYear()+"-"+date.getUTCMonth()+"-"+date.getUTCDate();
}
function isToday(now,din) {
    if(din.getUTCFullYear()==now.getUTCFullYear()
            && now.getUTCMonth()==din.getUTCMonth()
            && now.getUTCDay() ==din.getUTCDay()
            ) {
        return true;
    }
    return false;
}
var oneday=86400000;
function getDaysInPast(now,din) {
    return parseInt((now.getTime()-din.getTime())/oneday);
}

var working=false;
var chkWork;
function setWorking(tf) {
    if(tf) {
        working=true;
        cn('logo','aniSpin');
        cn('foot','bgg');
        chkWork=setTimeout('checkWorking',1000);
    } else {
        working=false;
        cn('foot','bgw');
        clearTimeout(chkWork);
        cn('logo','');
    }
}
function checkWorking() {
    if(working) {
        chkWork=setTimeout('checkWorking',1000);
    } else {
        cn('logo','');
    }
}

function goEnter(e) {
    var keycode = (e.keyCode ? e.keyCode : e.which);
    if (keycode == '13') {
        decryptData();
    }
}
ele('uPass').value="";
ele('uPass').onkeypress=goEnter;
ele('uPass').focus();

if(!encrypted) {
    goReveal(ele('data').value);
}


var copyImg='<img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gQICS8ggc+9LAAAARNJREFUWMPt2K9LBEEYxvHPiecVDYJgNJqM18VkMwkiBrGI2b/CJJgFkyD4H9jNVjHZziAoBn+xepYRFnHDzszJCfPA8i678L7fed9Z2Gco+mfqNDyfwg76mEzI/449VKmQ5xhmuF7QS+3aYiaYKKDfxjFfuz/EUcLihmFsSUB1PeL2Lzd1zIadxUxCzWfc5wDq4RgbiV/eJy6wiYefLydaJNrHViLMd81VHKR2aDnED5yGGKN1TNfyRQN1Q6ywi9dIoJUA1G1q31ipABWgAlSAClAByvCDdhMcB1yNA9AdTsrICtAIXUcHC3gbRc02QIOa77/O0IxBaoJ+8FQ5LHaFtTanH01awjbmEhb2hDNcKorQF+rBWZFs7nHfAAAAAElFTkSuQmCC"/>';
var noAttImgBase='<img style="vertical-align:middle" title="Not live click to attach to IOTA" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gQKBzEw6K53FgAAAeFJREFUWMPt1ruPTVEUBvDfnYu5MgkKElOJQeER1BoZhVLCX4BiROnRaMRfQC0Kj0ohQiHTSAiTEFGMEBkFohCPIMgkQ8S9mn2Sne3e8zA5Y4rzJSvZ56x91llnfd9eZ9GgQYMG/xetGmIeKvD38AmP8HEhPrJX0n7iAlYsloQye4yROik7WGLPehzFmnB9FifqSmg8xzeDd2G9IVRnFb5jLeYWmrJU8Ocj305YUhB8DJuxGkN9/BfnmfxstF42iLIW9uF0yHqoYts4k7P/BqbDegRPAnW/AmVf0geWJmUsskGCzbMx7MH9KM717OGUsnOYiK7vYRIfchJI8aoibZ9xctDpyDKexYHE38b2sG885zRV6UHPQ0z9KnQqWh+Jy4htuIqtJTR0qWRVpnAr6OcvrAytvIeniZA7eFlBQ50caxdlmlVoXXbscAfdaM/uIEThhzhZEPNrjm8CV8oktDy6N9enehmmcLkgoeEcX+kKvY3upTp5EOgcxvFgeRq6m/O+91Xmopmgix/YlPiP4XdJDc0L7USMe0PVduFaRN9D3MY3vAjddho365xjOngWff1rHMZo0Fi/U1M7NuJNQks30NjPFgSjoSl2//FfVtuQvwP7sSWMH62Kw1iDBg0WJf4Ax36jWGMocNsAAAAASUVORK5CYII="';
var noAttImg=noAttImgBase+' class="alpha25" />';
var noAttImgAni=noAttImgBase+' class="alpha25 aniSpin" />';
var attImg='<img style="vertical-align:middle" class="alpha50" title="Is live on IOTA" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gQKBy4gOENp7AAAAZVJREFUWMPt1j1rFUEUh/HfNVGuBFQ0ggHF90INibVNSGMraikEYidWol/AWrCyESsrO0GICCkSCFbBYBMkhSBWUYkWokQRb2yOMCwXdufeLeeBgbOc3Zn/npeZoVAoFAqFLDoZ757COYxj1wBr7WALq/gyjOArWMPfmHTY8RtPsC9XzG48bklEv/EGYzkpe4TbyfMKXuFzTDgIJ3ELh+P5Ie42ETSLpbB/Yg7PE/8ILuBQQyEb2Az7dETnAL7jCLbrJlhMQnuj4pvEemZ65itzpKVwMXWM9hGzHzNhr+NZ4uviRXTcMPxI7D11go4nLy2jl/hmEjGrUVNNeJvYY9G58Afv6wTtTeztPtH7z2s8zdzHTuB+1BEs4Fvdh0eT/C5UfMfwq6W232qa+k50xU4sfrbiv9PCJvkOUzlHxz08CHsNlyuhvYTrOJhZzF8j1S+jfhrTrbT2B9zERNRYN3OMtHHwnsHHSqh7kcbcMdfWbWAidujekDUz33TB0Rr/Jq5hGldxPq4fncwf+1RueoVCoTAg/wAc3btyvG3wmwAAAABJRU5ErkJggg=="/>';
var tin='<img style="vertical-align:middle" class="alpha50" title="Is live on IOTA" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAFgSURBVFiF7ZY9TgMxEEbfoET81XQsEhS0HICGkpoDUEVODsAxOEHEdbgGEQKJghoCijamWJN4TYK1Y0O22E+yRhp7x8+z1njEWkubtLVpgFCtA+ppPhKRusNwCxwAr4y58aeaXolcGboCrp1NUut+WQcUk+pSYzikfpjewhqOPP8ceG4SWpuhS2ACPLpROH/h+SZuXSPpgMbcAUOqDKzSHBi6df8AVIcqg5lSC5MGtIQaeVAlMNLCAFUlbTp+yDDAMMMwSI2fB6iCOs1xYOnaj4h+LYwicgIc/8G+E2vtQ2MgoA/s5eehv24iBjQD3vOyLOKuVHepY8rTwlbaB95C56Za2AK4YPnqq6Xrh+oqgDNAnAV40gZLzZAPgwelzlQKUAjzrSQoLdA6mGQoVR0SkZ0A5hzYBabAvee31tqPJrG1lzrcxHp2qowJtLAwdkAx5SiMAC/ANvCZGqh77WP6Aoj25EkQ/9h4AAAAAElFTkSuQmCC"/>';
var tout='<img style="vertical-align:middle" class="alpha50" title="Is live on IOTA" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAFaSURBVFiF7ZbLSsQwGIW/XxQdXbsQRkHdufAJfJjOC/oUPoEL3SmM7lw7KBZ/FxOkjWnSXNopMgdCStKefG1PLqKqTEk7mwawNTmgXV+niPT1uQL2gU/goc8DXVEp9YVOgLmpszS5X7YFCskbao8OgGbipVHPGu0KfMQYi29h9MyyM+DagrKlwD2wdHYWnmVLM1jX23hhfMrJUBdUMkwukAsqCwbSQ21DwTpTWTCQHmqXjoD3vjd3jVsSKEpD72XFFMrQBXA+wLjPwJOrIwS0BxwWx1n7OhUC+gJWZVl+fZ3yhnoTmlyok4BE5E9B5NLZPgaQLYUKeDR1pplqdLFgFgq1gpp6keOfBWTBqAtqNCCFygHThKpGAwrAtKBivdPWIZE57QlxB5wCL8BNo/0b1dcY66TzkEBrEIXaXNZinYdiX/d/LIxDanJAJc7UALfAMfCWa7Td7UP6AZIauF9PuTBGAAAAAElFTkSuQmCC"/>';
var ucomp='<img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAAB90RVh0U29mdHdhcmUATWFjcm9tZWRpYSBGaXJld29ya3MgOLVo0ngAAAIVSURBVFiF7de/axRBGMbxT36AickFAlGCnSEgMQEV/wTrCGJhpX+anYWClbWFlmJ5F1GiqQyBBIsEf5BEz2L24HYzs7d7exED93S7OzPPd2feed8ZxhqrmSZG0H8OC5jGKQ7xHd1/BTSJVWzgOlqRNkfYQRvb+HNeQGu4h6UafQ7wGh9GCTSDTazXACmqg1f4VdZoqsJALTzBSgMYuCos9UccDws0k8EsN4TpaV74sbawAWoDPdB8ZmJQi9iKfZws6bimWcz065MQP73dtp6Nf0apGZrEI1weEcwLfBVy1A1hMy3jvUK+Ss3QqnpbexBML166fQBLmU9OKaCNc4C5jfsFzzM+MaAJIQOPEuZOBEbmk8uFMaA58XKwj5MhYTYTXq3MrxRoIfJuF0/xfABUbJlSMFG/WMPpwvNvvMRPoVCmoKrETEw5v1jjYgadwkPMZs8xqKoxE1POL9bhMPLuGh4noOrETEw5v1hiPMFdXCq8bwllZCsz/4bPeNcA5ghv+1/EOnaFw1VMxZnaVS+Ai9pRMVO3SwYpQvVgqsZMqU9qgG3hpFcFqk4A9+sg88kpVVy7wvqWlZAWbuLWEDCE6r9fFYjwB1eEk15Ks4a7KHTwJvZh0AHti1CR54cwTWlPPk3UAjoVzsArI4LawzP8SDWocsg/FnbDovLlG6SOMDNJGC7wvaxf/9XNNdZ/pHf7sS6c/gJR7IO4GLbZoQAAAABJRU5ErkJggg=="';
var comp=ucomp+' title="Is completed"/>';
var ncomp=ucomp+' title="Not completed" class="alpha10"/>';
var qrcode='<img style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAgMAAAAOFJJnAAAAA3NCSVQICAjb4U/gAAAACVBMVEX////MzMyZmZnTl7o6AAAACXBIWXMAACUcAAAlHAHbBRspAAAAH3RFWHRTb2Z0d2FyZQBNYWNyb21lZGlhIEZpcmV3b3JrcyA4tWjSeAAAAM1JREFUGJVNj7FqxDAQREeBM1x3OZCxeuc/dODrXUhG6lSsBPmQ9C5k0N7XZuVLkSmGZVh23oK5aUSuKIWMDA0cSSN7AiGoNCOg5hm7EyOexiTWkzGFnrhg1tlNOBA0vHLgF13POyU31MgHRCrhT3s3p73PXlmQYdFg4c1W4vFcofjKw1oOfOQhX3a5819S4WXZu1EqLAT+suSynLgvMrUzg6tpJ2G5F+rMhh/8Tj63bQUtQT79scJM+hafC8p3U4m+ZsSN4Nw0wd4AK4W/ky9HLV1ZTvQAAAAASUVORK5CYII="/>';
var tagImg='<img class="alpha25" style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gQQEDMfV4QqwwAAAK5JREFUKM+V0iFuAkEUh/HfIkpQKFLfcxAUxQDn6Bk4RS+AoaY4cKhqFBYBQXADHAWaFLMks5OdzfIlz7yZL+8/L5OhhR4aipywwVWCHv4TtUQzJb7nl26YYBrJq5I0BfEr6M0jeY1OSjwGvbLYW2R13xjXAa8P8Q1/T8j7MPZHvva6cj+MPKg5eYGXeFFjXCqkHxUMcS6RZvl5ViV38RtI355ghB0+60yKaae+2x2Qa1+MFuKJbAAAAABJRU5ErkJggg=="/>';
var msgImg='<img class="alpha25" style="vertical-align:middle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAG66AABuugHW3rEXAAAAB3RJTUUH4gQQEDcFzooWvQAAALtJREFUKM+10jFOgkEUBODPFUkQWhorakIjMZwACxpLL2Bj4wE4BFfgIlwAKltKY6JWYGMkwSg2S/LyN7okvGSzO29mNpO3y4F1kvc73GP3h36NG2xhkA3/XWukhGFhyhYaKcR7x3MQfFUMjxGkcO6hg8+M64GboI/pvlEL5AwvOM/4NXAPuMAtfvbNceFwtmgmzAuH84HNKZ6wRBftiugtR17lZ1jgCt/V2/oh0nVJjLNsGpV+wYRLx6xfmU8241WvOY4AAAAASUVORK5CYII="/>';

/*
CryptoJS v3.0.2
code.google.com/p/crypto-js
(c) 2009-2012 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS=CryptoJS||function(p,h){var i={},l=i.lib={},r=l.Base=function(){function a(){}return{extend:function(e){a.prototype=this;var c=new a;e&&c.mixIn(e);c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),o=l.WordArray=r.extend({init:function(a,e){a=
this.words=a||[];this.sigBytes=e!=h?e:4*a.length},toString:function(a){return(a||s).stringify(this)},concat:function(a){var e=this.words,c=a.words,b=this.sigBytes,a=a.sigBytes;this.clamp();if(b%4)for(var d=0;d<a;d++)e[b+d>>>2]|=(c[d>>>2]>>>24-8*(d%4)&255)<<24-8*((b+d)%4);else if(65535<c.length)for(d=0;d<a;d+=4)e[b+d>>>2]=c[d>>>2];else e.push.apply(e,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,e=this.sigBytes;a[e>>>2]&=4294967295<<32-8*(e%4);a.length=p.ceil(e/4)},clone:function(){var a=
r.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var e=[],c=0;c<a;c+=4)e.push(4294967296*p.random()|0);return o.create(e,a)}}),m=i.enc={},s=m.Hex={stringify:function(a){for(var e=a.words,a=a.sigBytes,c=[],b=0;b<a;b++){var d=e[b>>>2]>>>24-8*(b%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var e=a.length,c=[],b=0;b<e;b+=2)c[b>>>3]|=parseInt(a.substr(b,2),16)<<24-4*(b%8);return o.create(c,e/2)}},n=m.Latin1={stringify:function(a){for(var e=
a.words,a=a.sigBytes,c=[],b=0;b<a;b++)c.push(String.fromCharCode(e[b>>>2]>>>24-8*(b%4)&255));return c.join("")},parse:function(a){for(var e=a.length,c=[],b=0;b<e;b++)c[b>>>2]|=(a.charCodeAt(b)&255)<<24-8*(b%4);return o.create(c,e)}},k=m.Utf8={stringify:function(a){try{return decodeURIComponent(escape(n.stringify(a)))}catch(e){throw Error("Malformed UTF-8 data");}},parse:function(a){return n.parse(unescape(encodeURIComponent(a)))}},f=l.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=o.create();
this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var e=this._data,c=e.words,b=e.sigBytes,d=this.blockSize,q=b/(4*d),q=a?p.ceil(q):p.max((q|0)-this._minBufferSize,0),a=q*d,b=p.min(4*a,b);if(a){for(var j=0;j<a;j+=d)this._doProcessBlock(c,j);j=c.splice(0,a);e.sigBytes-=b}return o.create(j,b)},clone:function(){var a=r.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});l.Hasher=f.extend({init:function(){this.reset()},
reset:function(){f.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=f.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(e,c){return a.create(c).finalize(e)}},_createHmacHelper:function(a){return function(e,c){return g.HMAC.create(a,c).finalize(e)}}});var g=i.algo={};return i}(Math);
(function(){var p=CryptoJS,h=p.lib.WordArray;p.enc.Base64={stringify:function(i){var l=i.words,h=i.sigBytes,o=this._map;i.clamp();for(var i=[],m=0;m<h;m+=3)for(var s=(l[m>>>2]>>>24-8*(m%4)&255)<<16|(l[m+1>>>2]>>>24-8*((m+1)%4)&255)<<8|l[m+2>>>2]>>>24-8*((m+2)%4)&255,n=0;4>n&&m+0.75*n<h;n++)i.push(o.charAt(s>>>6*(3-n)&63));if(l=o.charAt(64))for(;i.length%4;)i.push(l);return i.join("")},parse:function(i){var i=i.replace(/\s/g,""),l=i.length,r=this._map,o=r.charAt(64);o&&(o=i.indexOf(o),-1!=o&&(l=o));
for(var o=[],m=0,s=0;s<l;s++)if(s%4){var n=r.indexOf(i.charAt(s-1))<<2*(s%4),k=r.indexOf(i.charAt(s))>>>6-2*(s%4);o[m>>>2]|=(n|k)<<24-8*(m%4);m++}return h.create(o,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(p){function h(f,g,a,e,c,b,d){f=f+(g&a|~g&e)+c+d;return(f<<b|f>>>32-b)+g}function i(f,g,a,e,c,b,d){f=f+(g&e|a&~e)+c+d;return(f<<b|f>>>32-b)+g}function l(f,g,a,e,c,b,d){f=f+(g^a^e)+c+d;return(f<<b|f>>>32-b)+g}function r(f,g,a,e,c,b,d){f=f+(a^(g|~e))+c+d;return(f<<b|f>>>32-b)+g}var o=CryptoJS,m=o.lib,s=m.WordArray,m=m.Hasher,n=o.algo,k=[];(function(){for(var f=0;64>f;f++)k[f]=4294967296*p.abs(p.sin(f+1))|0})();n=n.MD5=m.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,
2562383102,271733878])},_doProcessBlock:function(f,g){for(var a=0;16>a;a++){var e=g+a,c=f[e];f[e]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}for(var e=this._hash.words,c=e[0],b=e[1],d=e[2],q=e[3],a=0;64>a;a+=4)16>a?(c=h(c,b,d,q,f[g+a],7,k[a]),q=h(q,c,b,d,f[g+a+1],12,k[a+1]),d=h(d,q,c,b,f[g+a+2],17,k[a+2]),b=h(b,d,q,c,f[g+a+3],22,k[a+3])):32>a?(c=i(c,b,d,q,f[g+(a+1)%16],5,k[a]),q=i(q,c,b,d,f[g+(a+6)%16],9,k[a+1]),d=i(d,q,c,b,f[g+(a+11)%16],14,k[a+2]),b=i(b,d,q,c,f[g+a%16],20,k[a+3])):48>a?(c=
l(c,b,d,q,f[g+(3*a+5)%16],4,k[a]),q=l(q,c,b,d,f[g+(3*a+8)%16],11,k[a+1]),d=l(d,q,c,b,f[g+(3*a+11)%16],16,k[a+2]),b=l(b,d,q,c,f[g+(3*a+14)%16],23,k[a+3])):(c=r(c,b,d,q,f[g+3*a%16],6,k[a]),q=r(q,c,b,d,f[g+(3*a+7)%16],10,k[a+1]),d=r(d,q,c,b,f[g+(3*a+14)%16],15,k[a+2]),b=r(b,d,q,c,f[g+(3*a+5)%16],21,k[a+3]));e[0]=e[0]+c|0;e[1]=e[1]+b|0;e[2]=e[2]+d|0;e[3]=e[3]+q|0},_doFinalize:function(){var f=this._data,g=f.words,a=8*this._nDataBytes,e=8*f.sigBytes;g[e>>>5]|=128<<24-e%32;g[(e+64>>>9<<4)+14]=(a<<8|a>>>
24)&16711935|(a<<24|a>>>8)&4278255360;f.sigBytes=4*(g.length+1);this._process();f=this._hash.words;for(g=0;4>g;g++)a=f[g],f[g]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360}});o.MD5=m._createHelper(n);o.HmacMD5=m._createHmacHelper(n)})(Math);
(function(){var p=CryptoJS,h=p.lib,i=h.Base,l=h.WordArray,h=p.algo,r=h.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:h.MD5,iterations:1}),init:function(i){this.cfg=this.cfg.extend(i)},compute:function(i,m){for(var h=this.cfg,n=h.hasher.create(),k=l.create(),f=k.words,g=h.keySize,h=h.iterations;f.length<g;){a&&n.update(a);var a=n.update(i).finalize(m);n.reset();for(var e=1;e<h;e++)a=n.finalize(a),n.reset();k.concat(a)}k.sigBytes=4*g;return k}});p.EvpKDF=function(i,l,h){return r.create(h).compute(i,
l)}})();
CryptoJS.lib.Cipher||function(p){var h=CryptoJS,i=h.lib,l=i.Base,r=i.WordArray,o=i.BufferedBlockAlgorithm,m=h.enc.Base64,s=h.algo.EvpKDF,n=i.Cipher=o.extend({cfg:l.extend(),createEncryptor:function(b,d){return this.create(this._ENC_XFORM_MODE,b,d)},createDecryptor:function(b,d){return this.create(this._DEC_XFORM_MODE,b,d)},init:function(b,d,a){this.cfg=this.cfg.extend(a);this._xformMode=b;this._key=d;this.reset()},reset:function(){o.reset.call(this);this._doReset()},process:function(b){this._append(b);return this._process()},
finalize:function(b){b&&this._append(b);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(b){return{encrypt:function(a,q,j){return("string"==typeof q?c:e).encrypt(b,a,q,j)},decrypt:function(a,q,j){return("string"==typeof q?c:e).decrypt(b,a,q,j)}}}}()});i.StreamCipher=n.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var k=h.mode={},f=i.BlockCipherMode=l.extend({createEncryptor:function(b,a){return this.Encryptor.create(b,
a)},createDecryptor:function(b,a){return this.Decryptor.create(b,a)},init:function(b,a){this._cipher=b;this._iv=a}}),k=k.CBC=function(){function b(b,a,d){var c=this._iv;c?this._iv=p:c=this._prevBlock;for(var e=0;e<d;e++)b[a+e]^=c[e]}var a=f.extend();a.Encryptor=a.extend({processBlock:function(a,d){var c=this._cipher,e=c.blockSize;b.call(this,a,d,e);c.encryptBlock(a,d);this._prevBlock=a.slice(d,d+e)}});a.Decryptor=a.extend({processBlock:function(a,d){var c=this._cipher,e=c.blockSize,f=a.slice(d,d+
e);c.decryptBlock(a,d);b.call(this,a,d,e);this._prevBlock=f}});return a}(),g=(h.pad={}).Pkcs7={pad:function(b,a){for(var c=4*a,c=c-b.sigBytes%c,e=c<<24|c<<16|c<<8|c,f=[],g=0;g<c;g+=4)f.push(e);c=r.create(f,c);b.concat(c)},unpad:function(b){b.sigBytes-=b.words[b.sigBytes-1>>>2]&255}};i.BlockCipher=n.extend({cfg:n.cfg.extend({mode:k,padding:g}),reset:function(){n.reset.call(this);var b=this.cfg,a=b.iv,b=b.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=b.createEncryptor;else c=b.createDecryptor,
this._minBufferSize=1;this._mode=c.call(b,this,a&&a.words)},_doProcessBlock:function(b,a){this._mode.processBlock(b,a)},_doFinalize:function(){var b=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){b.pad(this._data,this.blockSize);var a=this._process(!0)}else a=this._process(!0),b.unpad(a);return a},blockSize:4});var a=i.CipherParams=l.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),k=(h.format={}).OpenSSL={stringify:function(a){var d=
a.ciphertext,a=a.salt,d=(a?r.create([1398893684,1701076831]).concat(a).concat(d):d).toString(m);return d=d.replace(/(.{64})/g,"$1\n")},parse:function(b){var b=m.parse(b),d=b.words;if(1398893684==d[0]&&1701076831==d[1]){var c=r.create(d.slice(2,4));d.splice(0,4);b.sigBytes-=16}return a.create({ciphertext:b,salt:c})}},e=i.SerializableCipher=l.extend({cfg:l.extend({format:k}),encrypt:function(b,d,c,e){var e=this.cfg.extend(e),f=b.createEncryptor(c,e),d=f.finalize(d),f=f.cfg;return a.create({ciphertext:d,
key:c,iv:f.iv,algorithm:b,mode:f.mode,padding:f.padding,blockSize:b.blockSize,formatter:e.format})},decrypt:function(a,c,e,f){f=this.cfg.extend(f);c=this._parse(c,f.format);return a.createDecryptor(e,f).finalize(c.ciphertext)},_parse:function(a,c){return"string"==typeof a?c.parse(a):a}}),h=(h.kdf={}).OpenSSL={compute:function(b,c,e,f){f||(f=r.random(8));b=s.create({keySize:c+e}).compute(b,f);e=r.create(b.words.slice(c),4*e);b.sigBytes=4*c;return a.create({key:b,iv:e,salt:f})}},c=i.PasswordBasedCipher=
e.extend({cfg:e.cfg.extend({kdf:h}),encrypt:function(a,c,f,j){j=this.cfg.extend(j);f=j.kdf.compute(f,a.keySize,a.ivSize);j.iv=f.iv;a=e.encrypt.call(this,a,c,f.key,j);a.mixIn(f);return a},decrypt:function(a,c,f,j){j=this.cfg.extend(j);c=this._parse(c,j.format);f=j.kdf.compute(f,a.keySize,a.ivSize,c.salt);j.iv=f.iv;return e.decrypt.call(this,a,c,f.key,j)}})}();
(function(){var p=CryptoJS,h=p.lib.BlockCipher,i=p.algo,l=[],r=[],o=[],m=[],s=[],n=[],k=[],f=[],g=[],a=[];(function(){for(var c=[],b=0;256>b;b++)c[b]=128>b?b<<1:b<<1^283;for(var d=0,e=0,b=0;256>b;b++){var j=e^e<<1^e<<2^e<<3^e<<4,j=j>>>8^j&255^99;l[d]=j;r[j]=d;var i=c[d],h=c[i],p=c[h],t=257*c[j]^16843008*j;o[d]=t<<24|t>>>8;m[d]=t<<16|t>>>16;s[d]=t<<8|t>>>24;n[d]=t;t=16843009*p^65537*h^257*i^16843008*d;k[j]=t<<24|t>>>8;f[j]=t<<16|t>>>16;g[j]=t<<8|t>>>24;a[j]=t;d?(d=i^c[c[c[p^i]]],e^=c[c[e]]):d=e=1}})();
var e=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=h.extend({_doReset:function(){for(var c=this._key,b=c.words,d=c.sigBytes/4,c=4*((this._nRounds=d+6)+1),i=this._keySchedule=[],j=0;j<c;j++)if(j<d)i[j]=b[j];else{var h=i[j-1];j%d?6<d&&4==j%d&&(h=l[h>>>24]<<24|l[h>>>16&255]<<16|l[h>>>8&255]<<8|l[h&255]):(h=h<<8|h>>>24,h=l[h>>>24]<<24|l[h>>>16&255]<<16|l[h>>>8&255]<<8|l[h&255],h^=e[j/d|0]<<24);i[j]=i[j-d]^h}b=this._invKeySchedule=[];for(d=0;d<c;d++)j=c-d,h=d%4?i[j]:i[j-4],b[d]=4>d||4>=j?h:k[l[h>>>24]]^f[l[h>>>
16&255]]^g[l[h>>>8&255]]^a[l[h&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,o,m,s,n,l)},decryptBlock:function(c,b){var d=c[b+1];c[b+1]=c[b+3];c[b+3]=d;this._doCryptBlock(c,b,this._invKeySchedule,k,f,g,a,r);d=c[b+1];c[b+1]=c[b+3];c[b+3]=d},_doCryptBlock:function(a,b,d,e,f,h,i,g){for(var l=this._nRounds,k=a[b]^d[0],m=a[b+1]^d[1],o=a[b+2]^d[2],n=a[b+3]^d[3],p=4,r=1;r<l;r++)var s=e[k>>>24]^f[m>>>16&255]^h[o>>>8&255]^i[n&255]^d[p++],u=e[m>>>24]^f[o>>>16&255]^h[n>>>8&255]^
i[k&255]^d[p++],v=e[o>>>24]^f[n>>>16&255]^h[k>>>8&255]^i[m&255]^d[p++],n=e[n>>>24]^f[k>>>16&255]^h[m>>>8&255]^i[o&255]^d[p++],k=s,m=u,o=v;s=(g[k>>>24]<<24|g[m>>>16&255]<<16|g[o>>>8&255]<<8|g[n&255])^d[p++];u=(g[m>>>24]<<24|g[o>>>16&255]<<16|g[n>>>8&255]<<8|g[k&255])^d[p++];v=(g[o>>>24]<<24|g[n>>>16&255]<<16|g[k>>>8&255]<<8|g[m&255])^d[p++];n=(g[n>>>24]<<24|g[k>>>16&255]<<16|g[m>>>8&255]<<8|g[o&255])^d[p++];a[b]=s;a[b+1]=u;a[b+2]=v;a[b+3]=n},keySize:8});p.AES=h._createHelper(i)})();


/*
CryptoJS v3.0.2
code.google.com/p/crypto-js
(c) 2009-2012 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
var CryptoJS=CryptoJS||function(g,i){var f={},b=f.lib={},m=b.Base=function(){function a(){}return{extend:function(e){a.prototype=this;var c=new a;e&&c.mixIn(e);c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),l=b.WordArray=m.extend({init:function(a,e){a=
this.words=a||[];this.sigBytes=e!=i?e:4*a.length},toString:function(a){return(a||d).stringify(this)},concat:function(a){var e=this.words,c=a.words,o=this.sigBytes,a=a.sigBytes;this.clamp();if(o%4)for(var b=0;b<a;b++)e[o+b>>>2]|=(c[b>>>2]>>>24-8*(b%4)&255)<<24-8*((o+b)%4);else if(65535<c.length)for(b=0;b<a;b+=4)e[o+b>>>2]=c[b>>>2];else e.push.apply(e,c);this.sigBytes+=a;return this},clamp:function(){var a=this.words,e=this.sigBytes;a[e>>>2]&=4294967295<<32-8*(e%4);a.length=g.ceil(e/4)},clone:function(){var a=
m.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var e=[],c=0;c<a;c+=4)e.push(4294967296*g.random()|0);return l.create(e,a)}}),n=f.enc={},d=n.Hex={stringify:function(a){for(var e=a.words,a=a.sigBytes,c=[],b=0;b<a;b++){var d=e[b>>>2]>>>24-8*(b%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var e=a.length,c=[],b=0;b<e;b+=2)c[b>>>3]|=parseInt(a.substr(b,2),16)<<24-4*(b%8);return l.create(c,e/2)}},j=n.Latin1={stringify:function(a){for(var e=
a.words,a=a.sigBytes,b=[],d=0;d<a;d++)b.push(String.fromCharCode(e[d>>>2]>>>24-8*(d%4)&255));return b.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return l.create(c,b)}},k=n.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},h=b.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=l.create();
this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var b=this._data,c=b.words,d=b.sigBytes,j=this.blockSize,h=d/(4*j),h=a?g.ceil(h):g.max((h|0)-this._minBufferSize,0),a=h*j,d=g.min(4*a,d);if(a){for(var f=0;f<a;f+=j)this._doProcessBlock(c,f);f=c.splice(0,a);b.sigBytes-=d}return l.create(f,d)},clone:function(){var a=m.clone.call(this);a._data=this._data.clone();return a},_minBufferSize:0});b.Hasher=h.extend({init:function(){this.reset()},
reset:function(){h.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);this._doFinalize();return this._hash},clone:function(){var a=h.clone.call(this);a._hash=this._hash.clone();return a},blockSize:16,_createHelper:function(a){return function(b,c){return a.create(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return u.HMAC.create(a,c).finalize(b)}}});var u=f.algo={};return f}(Math);
(function(){var g=CryptoJS,i=g.lib,f=i.WordArray,i=i.Hasher,b=[],m=g.algo.SHA1=i.extend({_doReset:function(){this._hash=f.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,n){for(var d=this._hash.words,j=d[0],k=d[1],h=d[2],g=d[3],a=d[4],e=0;80>e;e++){if(16>e)b[e]=f[n+e]|0;else{var c=b[e-3]^b[e-8]^b[e-14]^b[e-16];b[e]=c<<1|c>>>31}c=(j<<5|j>>>27)+a+b[e];c=20>e?c+((k&h|~k&g)+1518500249):40>e?c+((k^h^g)+1859775393):60>e?c+((k&h|k&g|h&g)-1894007588):c+((k^h^g)-
899497514);a=g;g=h;h=k<<30|k>>>2;k=j;j=c}d[0]=d[0]+j|0;d[1]=d[1]+k|0;d[2]=d[2]+h|0;d[3]=d[3]+g|0;d[4]=d[4]+a|0},_doFinalize:function(){var b=this._data,f=b.words,d=8*this._nDataBytes,j=8*b.sigBytes;f[j>>>5]|=128<<24-j%32;f[(j+64>>>9<<4)+15]=d;b.sigBytes=4*f.length;this._process()}});g.SHA1=i._createHelper(m);g.HmacSHA1=i._createHmacHelper(m)})();
(function(){var g=CryptoJS,i=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(f,b){f=this._hasher=f.create();"string"==typeof b&&(b=i.parse(b));var g=f.blockSize,l=4*g;b.sigBytes>l&&(b=f.finalize(b));for(var n=this._oKey=b.clone(),d=this._iKey=b.clone(),j=n.words,k=d.words,h=0;h<g;h++)j[h]^=1549556828,k[h]^=909522486;n.sigBytes=d.sigBytes=l;this.reset()},reset:function(){var f=this._hasher;f.reset();f.update(this._iKey)},update:function(f){this._hasher.update(f);return this},finalize:function(f){var b=
this._hasher,f=b.finalize(f);b.reset();return b.finalize(this._oKey.clone().concat(f))}})})();
(function(){var g=CryptoJS,i=g.lib,f=i.Base,b=i.WordArray,i=g.algo,m=i.HMAC,l=i.PBKDF2=f.extend({cfg:f.extend({keySize:4,hasher:i.SHA1,iterations:1}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(f,d){for(var g=this.cfg,k=m.create(g.hasher,f),h=b.create(),i=b.create([1]),a=h.words,e=i.words,c=g.keySize,g=g.iterations;a.length<c;){var l=k.update(d).finalize(i);k.reset();for(var q=l.words,t=q.length,r=l,s=1;s<g;s++){r=k.finalize(r);k.reset();for(var v=r.words,p=0;p<t;p++)q[p]^=v[p]}h.concat(l);
e[0]++}h.sigBytes=4*c;return h}});g.PBKDF2=function(b,d,f){return l.create(f).compute(b,d)}})();



/*
 *
 * QR
 */
function mQr(add) {
    var mj={};
        mj.address=add.add;
    return mj;
}
var qrCol='#000';
function dQr(mj) {
    var qr = new QRious({
        element: ele('qr'),
        background: '#fff',
        backgroundAlpha: 0.8,
        foreground:qrCol,
        foregroundAlpha: 1,
        level: 'L',
        padding: 5,
        size: 400,
        value: JSON.stringify(mj)
    });
}

/*
 * QRious v4.0.2
 * Copyright (C) 2017 Alasdair Mercer
 * Copyright (C) 2010 Tom Zerucha
 *
 * https://github.com/neocotic/qrious
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.QRious=e()}(this,function(){"use strict";var t=function(){},e=Object.prototype.hasOwnProperty,i=Array.prototype.slice;function n(t,n,s){for(var r,o,a=0,h=(s=i.call(arguments,2)).length;a<h;a++)for(r in o=s[a])t&&!e.call(o,r)||(n[r]=o[r])}var s=function(e,i,s,r){var o,a,h,f=this;return"string"!=typeof e&&(r=s,s=i,i=e,e=null),"function"!=typeof i&&(r=s,s=i,i=function(){return f.apply(this,arguments)}),n(!1,i,f,r),i.prototype=(o=f.prototype,a=s,"function"==typeof Object.create?h=Object.create(o):(t.prototype=o,h=new t,t.prototype=null),a&&n(!0,h,a),h),i.prototype.constructor=i,i.class_=e||f.class_,i.super_=f,i};function r(){}r.class_="Nevis",r.super_=Object,r.extend=s;var o=r,a=o.extend(function(t,e,i){this.qrious=t,this.element=e,this.element.qrious=t,this.enabled=Boolean(i)},{draw:function(t){},getElement:function(){return this.enabled||(this.enabled=!0,this.render()),this.element},getModuleSize:function(t){var e=this.qrious,i=e.padding||0,n=Math.floor((e.size-2*i)/t.width);return Math.max(1,n)},getOffset:function(t){var e=this.qrious,i=e.padding;if(null!=i)return i;var n=this.getModuleSize(t),s=Math.floor((e.size-n*t.width)/2);return Math.max(0,s)},render:function(t){this.enabled&&(this.resize(),this.reset(),this.draw(t))},reset:function(){},resize:function(){}}),h=a.extend({draw:function(t){var e,i,n=this.qrious,s=this.getModuleSize(t),r=parseInt((this.element.width-t.width*s)/2),o=n.padding||0,a=this.element.getContext("2d");Math.floor((n.size-2*o)/t.width);for(a.fillStyle=n.foreground,a.globalAlpha=n.foregroundAlpha,e=0;e<t.width;e++)for(i=0;i<t.width;i++)t.buffer[i*t.width+e]&&a.fillRect(s*e+r,s*i+r,s,s)},reset:function(){var t=this.qrious,e=this.element.getContext("2d"),i=t.size;e.lineWidth=1,e.clearRect(0,0,i,i),e.fillStyle=t.background,e.globalAlpha=t.backgroundAlpha,e.fillRect(0,0,i,i)},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),f=o.extend(null,{BLOCK:[0,11,15,19,23,27,31,16,18,20,22,24,26,28,20,22,24,24,26,28,28,22,24,24,26,26,28,28,24,24,26,26,26,28,28,24,26,26,26,28,28]}),c=o.extend(null,{BLOCKS:[1,0,19,7,1,0,16,10,1,0,13,13,1,0,9,17,1,0,34,10,1,0,28,16,1,0,22,22,1,0,16,28,1,0,55,15,1,0,44,26,2,0,17,18,2,0,13,22,1,0,80,20,2,0,32,18,2,0,24,26,4,0,9,16,1,0,108,26,2,0,43,24,2,2,15,18,2,2,11,22,2,0,68,18,4,0,27,16,4,0,19,24,4,0,15,28,2,0,78,20,4,0,31,18,2,4,14,18,4,1,13,26,2,0,97,24,2,2,38,22,4,2,18,22,4,2,14,26,2,0,116,30,3,2,36,22,4,4,16,20,4,4,12,24,2,2,68,18,4,1,43,26,6,2,19,24,6,2,15,28,4,0,81,20,1,4,50,30,4,4,22,28,3,8,12,24,2,2,92,24,6,2,36,22,4,6,20,26,7,4,14,28,4,0,107,26,8,1,37,22,8,4,20,24,12,4,11,22,3,1,115,30,4,5,40,24,11,5,16,20,11,5,12,24,5,1,87,22,5,5,41,24,5,7,24,30,11,7,12,24,5,1,98,24,7,3,45,28,15,2,19,24,3,13,15,30,1,5,107,28,10,1,46,28,1,15,22,28,2,17,14,28,5,1,120,30,9,4,43,26,17,1,22,28,2,19,14,28,3,4,113,28,3,11,44,26,17,4,21,26,9,16,13,26,3,5,107,28,3,13,41,26,15,5,24,30,15,10,15,28,4,4,116,28,17,0,42,26,17,6,22,28,19,6,16,30,2,7,111,28,17,0,46,28,7,16,24,30,34,0,13,24,4,5,121,30,4,14,47,28,11,14,24,30,16,14,15,30,6,4,117,30,6,14,45,28,11,16,24,30,30,2,16,30,8,4,106,26,8,13,47,28,7,22,24,30,22,13,15,30,10,2,114,28,19,4,46,28,28,6,22,28,33,4,16,30,8,4,122,30,22,3,45,28,8,26,23,30,12,28,15,30,3,10,117,30,3,23,45,28,4,31,24,30,11,31,15,30,7,7,116,30,21,7,45,28,1,37,23,30,19,26,15,30,5,10,115,30,19,10,47,28,15,25,24,30,23,25,15,30,13,3,115,30,2,29,46,28,42,1,24,30,23,28,15,30,17,0,115,30,10,23,46,28,10,35,24,30,19,35,15,30,17,1,115,30,14,21,46,28,29,19,24,30,11,46,15,30,13,6,115,30,14,23,46,28,44,7,24,30,59,1,16,30,12,7,121,30,12,26,47,28,39,14,24,30,22,41,15,30,6,14,121,30,6,34,47,28,46,10,24,30,2,64,15,30,17,4,122,30,29,14,46,28,49,10,24,30,24,46,15,30,4,18,122,30,13,32,46,28,48,14,24,30,42,32,15,30,20,4,117,30,40,7,47,28,43,22,24,30,10,67,15,30,19,6,118,30,18,31,47,28,34,34,24,30,20,61,15,30],FINAL_FORMAT:[30660,29427,32170,30877,26159,25368,27713,26998,21522,20773,24188,23371,17913,16590,20375,19104,13663,12392,16177,14854,9396,8579,11994,11245,5769,5054,7399,6608,1890,597,3340,2107],LEVELS:{L:1,M:2,Q:3,H:4}}),u=o.extend(null,{EXPONENT:[1,2,4,8,16,32,64,128,29,58,116,232,205,135,19,38,76,152,45,90,180,117,234,201,143,3,6,12,24,48,96,192,157,39,78,156,37,74,148,53,106,212,181,119,238,193,159,35,70,140,5,10,20,40,80,160,93,186,105,210,185,111,222,161,95,190,97,194,153,47,94,188,101,202,137,15,30,60,120,240,253,231,211,187,107,214,177,127,254,225,223,163,91,182,113,226,217,175,67,134,17,34,68,136,13,26,52,104,208,189,103,206,129,31,62,124,248,237,199,147,59,118,236,197,151,51,102,204,133,23,46,92,184,109,218,169,79,158,33,66,132,21,42,84,168,77,154,41,82,164,85,170,73,146,57,114,228,213,183,115,230,209,191,99,198,145,63,126,252,229,215,179,123,246,241,255,227,219,171,75,150,49,98,196,149,55,110,220,165,87,174,65,130,25,50,100,200,141,7,14,28,56,112,224,221,167,83,166,81,162,89,178,121,242,249,239,195,155,43,86,172,69,138,9,18,36,72,144,61,122,244,245,247,243,251,235,203,139,11,22,44,88,176,125,250,233,207,131,27,54,108,216,173,71,142,0],LOG:[255,0,1,25,2,50,26,198,3,223,51,238,27,104,199,75,4,100,224,14,52,141,239,129,28,193,105,248,200,8,76,113,5,138,101,47,225,36,15,33,53,147,142,218,240,18,130,69,29,181,194,125,106,39,249,185,201,154,9,120,77,228,114,166,6,191,139,98,102,221,48,253,226,152,37,179,16,145,34,136,54,208,148,206,143,150,219,189,241,210,19,92,131,56,70,64,30,66,182,163,195,72,126,110,107,58,40,84,250,133,186,61,202,94,155,159,10,21,121,43,78,212,229,172,115,243,167,87,7,112,192,247,140,128,99,13,103,74,222,237,49,197,254,24,227,165,153,119,38,184,180,124,17,68,146,217,35,32,137,46,55,63,209,91,149,188,207,205,144,135,151,178,220,252,190,97,242,86,211,171,20,42,93,158,132,60,57,83,71,109,65,162,31,45,67,216,183,123,164,118,196,23,73,236,127,12,111,246,108,161,59,82,41,157,85,170,251,96,134,177,187,204,62,90,203,89,95,176,156,169,160,81,11,245,22,235,122,117,44,215,79,174,213,233,230,231,173,232,116,214,244,234,168,80,88,175]}),l=o.extend(null,{BLOCK:[3220,1468,2713,1235,3062,1890,2119,1549,2344,2936,1117,2583,1330,2470,1667,2249,2028,3780,481,4011,142,3098,831,3445,592,2517,1776,2234,1951,2827,1070,2660,1345,3177]}),_=o.extend(function(t){var e,i,n,s,r,o=t.value.length;for(this._badness=[],this._level=c.LEVELS[t.level],this._polynomial=[],this._value=t.value,this._version=0,this._stringBuffer=[];this._version<40&&(this._version++,n=4*(this._level-1)+16*(this._version-1),s=c.BLOCKS[n++],r=c.BLOCKS[n++],e=c.BLOCKS[n++],i=c.BLOCKS[n],!(o<=(n=e*(s+r)+r-3+(this._version<=9)))););this._dataBlock=e,this._eccBlock=i,this._neccBlock1=s,this._neccBlock2=r;var a=this.width=17+4*this._version;this.buffer=_._createArray(a*a),this._ecc=_._createArray(e+(e+i)*(s+r)+r),this._mask=_._createArray((a*(a+1)+1)/2),this._insertFinders(),this._insertAlignments(),this.buffer[8+a*(a-8)]=1,this._insertTimingGap(),this._reverseMask(),this._insertTimingRowAndColumn(),this._insertVersion(),this._syncMask(),this._convertBitStream(o),this._calculatePolynomial(),this._appendEccToData(),this._interleaveBlocks(),this._pack(),this._finish()},{_addAlignment:function(t,e){var i,n=this.buffer,s=this.width;for(n[t+s*e]=1,i=-2;i<2;i++)n[t+i+s*(e-2)]=1,n[t-2+s*(e+i+1)]=1,n[t+2+s*(e+i)]=1,n[t+i+1+s*(e+2)]=1;for(i=0;i<2;i++)this._setMask(t-1,e+i),this._setMask(t+1,e-i),this._setMask(t-i,e-1),this._setMask(t+i,e+1)},_appendData:function(t,e,i,n){var s,r,o,a=this._polynomial,h=this._stringBuffer;for(r=0;r<n;r++)h[i+r]=0;for(r=0;r<e;r++){if(255!==(s=u.LOG[h[t+r]^h[i]]))for(o=1;o<n;o++)h[i+o-1]=h[i+o]^u.EXPONENT[_._modN(s+a[n-o])];else for(o=i;o<i+n;o++)h[o]=h[o+1];h[i+n-1]=255===s?0:u.EXPONENT[_._modN(s+a[0])]}},_appendEccToData:function(){var t,e=0,i=this._dataBlock,n=this._calculateMaxLength(),s=this._eccBlock;for(t=0;t<this._neccBlock1;t++)this._appendData(e,i,n,s),e+=i,n+=s;for(t=0;t<this._neccBlock2;t++)this._appendData(e,i+1,n,s),e+=i+1,n+=s},_applyMask:function(t){var e,i,n,s,r=this.buffer,o=this.width;switch(t){case 0:for(s=0;s<o;s++)for(n=0;n<o;n++)n+s&1||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 1:for(s=0;s<o;s++)for(n=0;n<o;n++)1&s||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 2:for(s=0;s<o;s++)for(e=0,n=0;n<o;n++,e++)3===e&&(e=0),e||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 3:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=i,n=0;n<o;n++,e++)3===e&&(e=0),e||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 4:for(s=0;s<o;s++)for(e=0,i=s>>1&1,n=0;n<o;n++,e++)3===e&&(e=0,i=!i),i||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 5:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(n&s&1)+!(!e|!i)||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 6:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(n&s&1)+(e&&e===i)&1||this._isMasked(n,s)||(r[n+s*o]^=1);break;case 7:for(i=0,s=0;s<o;s++,i++)for(3===i&&(i=0),e=0,n=0;n<o;n++,e++)3===e&&(e=0),(e&&e===i)+(n+s&1)&1||this._isMasked(n,s)||(r[n+s*o]^=1)}},_calculateMaxLength:function(){return this._dataBlock*(this._neccBlock1+this._neccBlock2)+this._neccBlock2},_calculatePolynomial:function(){var t,e,i=this._eccBlock,n=this._polynomial;for(n[0]=1,t=0;t<i;t++){for(n[t+1]=1,e=t;e>0;e--)n[e]=n[e]?n[e-1]^u.EXPONENT[_._modN(u.LOG[n[e]]+t)]:n[e-1];n[0]=u.EXPONENT[_._modN(u.LOG[n[0]]+t)]}for(t=0;t<=i;t++)n[t]=u.LOG[n[t]]},_checkBadness:function(){var t,e,i,n,s,r=0,o=this._badness,a=this.buffer,h=this.width;for(s=0;s<h-1;s++)for(n=0;n<h-1;n++)(a[n+h*s]&&a[n+1+h*s]&&a[n+h*(s+1)]&&a[n+1+h*(s+1)]||!(a[n+h*s]||a[n+1+h*s]||a[n+h*(s+1)]||a[n+1+h*(s+1)]))&&(r+=_.N2);var f=0;for(s=0;s<h;s++){for(i=0,o[0]=0,t=0,n=0;n<h;n++)t===(e=a[n+h*s])?o[i]++:o[++i]=1,f+=(t=e)?1:-1;r+=this._getBadness(i)}f<0&&(f=-f);var c=0,u=f;for(u+=u<<2,u<<=1;u>h*h;)u-=h*h,c++;for(r+=c*_.N4,n=0;n<h;n++){for(i=0,o[0]=0,t=0,s=0;s<h;s++)t===(e=a[n+h*s])?o[i]++:o[++i]=1,t=e;r+=this._getBadness(i)}return r},_convertBitStream:function(t){var e,i,n=this._ecc,s=this._version;for(i=0;i<t;i++)n[i]=this._value.charCodeAt(i);var r=this._stringBuffer=n.slice(),o=this._calculateMaxLength();t>=o-2&&(t=o-2,s>9&&t--);var a=t;if(s>9){for(r[a+2]=0,r[a+3]=0;a--;)e=r[a],r[a+3]|=255&e<<4,r[a+2]=e>>4;r[2]|=255&t<<4,r[1]=t>>4,r[0]=64|t>>12}else{for(r[a+1]=0,r[a+2]=0;a--;)e=r[a],r[a+2]|=255&e<<4,r[a+1]=e>>4;r[1]|=255&t<<4,r[0]=64|t>>4}for(a=t+3-(s<10);a<o;)r[a++]=236,r[a++]=17},_getBadness:function(t){var e,i=0,n=this._badness;for(e=0;e<=t;e++)n[e]>=5&&(i+=_.N1+n[e]-5);for(e=3;e<t-1;e+=2)n[e-2]===n[e+2]&&n[e+2]===n[e-1]&&n[e-1]===n[e+1]&&3*n[e-1]===n[e]&&(0===n[e-3]||e+3>t||3*n[e-3]>=4*n[e]||3*n[e+3]>=4*n[e])&&(i+=_.N3);return i},_finish:function(){var t,e;this._stringBuffer=this.buffer.slice();var i=0,n=3e4;for(e=0;e<8&&(this._applyMask(e),(t=this._checkBadness())<n&&(n=t,i=e),7!==i);e++)this.buffer=this._stringBuffer.slice();i!==e&&this._applyMask(i),n=c.FINAL_FORMAT[i+(this._level-1<<3)];var s=this.buffer,r=this.width;for(e=0;e<8;e++,n>>=1)1&n&&(s[r-1-e+8*r]=1,e<6?s[8+r*e]=1:s[8+r*(e+1)]=1);for(e=0;e<7;e++,n>>=1)1&n&&(s[8+r*(r-7+e)]=1,e?s[6-e+8*r]=1:s[7+8*r]=1)},_interleaveBlocks:function(){var t,e,i=this._dataBlock,n=this._ecc,s=this._eccBlock,r=0,o=this._calculateMaxLength(),a=this._neccBlock1,h=this._neccBlock2,f=this._stringBuffer;for(t=0;t<i;t++){for(e=0;e<a;e++)n[r++]=f[t+e*i];for(e=0;e<h;e++)n[r++]=f[a*i+t+e*(i+1)]}for(e=0;e<h;e++)n[r++]=f[a*i+t+e*(i+1)];for(t=0;t<s;t++)for(e=0;e<a+h;e++)n[r++]=f[o+t+e*s];this._stringBuffer=n},_insertAlignments:function(){var t,e,i,n=this._version,s=this.width;if(n>1)for(t=f.BLOCK[n],i=s-7;;){for(e=s-7;e>t-3&&(this._addAlignment(e,i),!(e<t));)e-=t;if(i<=t+9)break;i-=t,this._addAlignment(6,i),this._addAlignment(i,6)}},_insertFinders:function(){var t,e,i,n,s=this.buffer,r=this.width;for(t=0;t<3;t++){for(e=0,n=0,1===t&&(e=r-7),2===t&&(n=r-7),s[n+3+r*(e+3)]=1,i=0;i<6;i++)s[n+i+r*e]=1,s[n+r*(e+i+1)]=1,s[n+6+r*(e+i)]=1,s[n+i+1+r*(e+6)]=1;for(i=1;i<5;i++)this._setMask(n+i,e+1),this._setMask(n+1,e+i+1),this._setMask(n+5,e+i),this._setMask(n+i+1,e+5);for(i=2;i<4;i++)s[n+i+r*(e+2)]=1,s[n+2+r*(e+i+1)]=1,s[n+4+r*(e+i)]=1,s[n+i+1+r*(e+4)]=1}},_insertTimingGap:function(){var t,e,i=this.width;for(e=0;e<7;e++)this._setMask(7,e),this._setMask(i-8,e),this._setMask(7,e+i-7);for(t=0;t<8;t++)this._setMask(t,7),this._setMask(t+i-8,7),this._setMask(t,i-8)},_insertTimingRowAndColumn:function(){var t,e=this.buffer,i=this.width;for(t=0;t<i-14;t++)1&t?(this._setMask(8+t,6),this._setMask(6,8+t)):(e[8+t+6*i]=1,e[6+i*(8+t)]=1)},_insertVersion:function(){var t,e,i,n,s=this.buffer,r=this._version,o=this.width;if(r>6)for(t=l.BLOCK[r-7],e=17,i=0;i<6;i++)for(n=0;n<3;n++,e--)1&(e>11?r>>e-12:t>>e)?(s[5-i+o*(2-n+o-11)]=1,s[2-n+o-11+o*(5-i)]=1):(this._setMask(5-i,2-n+o-11),this._setMask(2-n+o-11,5-i))},_isMasked:function(t,e){var i=_._getMaskBit(t,e);return 1===this._mask[i]},_pack:function(){var t,e,i,n=1,s=1,r=this.width,o=r-1,a=r-1,h=(this._dataBlock+this._eccBlock)*(this._neccBlock1+this._neccBlock2)+this._neccBlock2;for(e=0;e<h;e++)for(t=this._stringBuffer[e],i=0;i<8;i++,t<<=1){128&t&&(this.buffer[o+r*a]=1);do{s?o--:(o++,n?0!==a?a--:(n=!n,6===(o-=2)&&(o--,a=9)):a!==r-1?a++:(n=!n,6===(o-=2)&&(o--,a-=8))),s=!s}while(this._isMasked(o,a))}},_reverseMask:function(){var t,e,i=this.width;for(t=0;t<9;t++)this._setMask(t,8);for(t=0;t<8;t++)this._setMask(t+i-8,8),this._setMask(8,t);for(e=0;e<7;e++)this._setMask(8,e+i-7)},_setMask:function(t,e){var i=_._getMaskBit(t,e);this._mask[i]=1},_syncMask:function(){var t,e,i=this.width;for(e=0;e<i;e++)for(t=0;t<=e;t++)this.buffer[t+i*e]&&this._setMask(t,e)}},{_createArray:function(t){var e,i=[];for(e=0;e<t;e++)i[e]=0;return i},_getMaskBit:function(t,e){var i;return t>e&&(i=t,t=e,e=i),i=e,i+=e*e,i>>=1,i+=t},_modN:function(t){for(;t>=255;)t=((t-=255)>>8)+(255&t);return t},N1:3,N2:3,N3:40,N4:10}),d=_,v=a.extend({draw:function(){this.element.src=this.qrious.toDataURL()},reset:function(){this.element.src=""},resize:function(){var t=this.element;t.width=t.height=this.qrious.size}}),p=o.extend(function(t,e,i,n){this.name=t,this.modifiable=Boolean(e),this.defaultValue=i,this._valueTransformer=n},{transform:function(t){var e=this._valueTransformer;return"function"==typeof e?e(t,this):t}}),m=o.extend(null,{abs:function(t){return null!=t?Math.abs(t):null},hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},noop:function(){},toUpperCase:function(t){return null!=t?t.toUpperCase():null}}),g=o.extend(function(t){this.options={},t.forEach(function(t){this.options[t.name]=t},this)},{exists:function(t){return null!=this.options[t]},get:function(t,e){return g._get(this.options[t],e)},getAll:function(t){var e,i=this.options,n={};for(e in i)m.hasOwn(i,e)&&(n[e]=g._get(i[e],t));return n},init:function(t,e,i){var n,s;for(n in"function"!=typeof i&&(i=m.noop),this.options)m.hasOwn(this.options,n)&&(s=this.options[n],g._set(s,s.defaultValue,e),g._createAccessor(s,e,i));this._setAll(t,e,!0)},set:function(t,e,i){return this._set(t,e,i)},setAll:function(t,e){return this._setAll(t,e)},_set:function(t,e,i,n){var s=this.options[t];if(!s)throw new Error("Invalid option: "+t);if(!s.modifiable&&!n)throw new Error("Option cannot be modified: "+t);return g._set(s,e,i)},_setAll:function(t,e,i){if(!t)return!1;var n,s=!1;for(n in t)m.hasOwn(t,n)&&this._set(n,t[n],e,i)&&(s=!0);return s}},{_createAccessor:function(t,e,i){var n={get:function(){return g._get(t,e)}};t.modifiable&&(n.set=function(n){g._set(t,n,e)&&i(n,t)}),Object.defineProperty(e,t.name,n)},_get:function(t,e){return e["_"+t.name]},_set:function(t,e,i){var n="_"+t.name,s=i[n],r=t.transform(null!=e?e:t.defaultValue);return i[n]=r,r!==s}}),k=g,w=o.extend(function(){this._services={}},{getService:function(t){var e=this._services[t];if(!e)throw new Error("Service is not being managed with name: "+t);return e},setService:function(t,e){if(this._services[t])throw new Error("Service is already managed with name: "+t);e&&(this._services[t]=e)}}),M=new k([new p("background",!0,"white"),new p("backgroundAlpha",!0,1,m.abs),new p("element"),new p("foreground",!0,"black"),new p("foregroundAlpha",!0,1,m.abs),new p("level",!0,"L",m.toUpperCase),new p("mime",!0,"image/png"),new p("padding",!0,null,m.abs),new p("size",!0,100,m.abs),new p("value",!0,"")]),b=new w,B=o.extend(function(t){M.init(t,this,this.update.bind(this));var e=M.get("element",this),i=b.getService("element"),n=e&&i.isCanvas(e)?e:i.createCanvas(),s=e&&i.isImage(e)?e:i.createImage();this._canvasRenderer=new h(this,n,!0),this._imageRenderer=new v(this,s,s===e),this.update()},{get:function(){return M.getAll(this)},set:function(t){M.setAll(t,this)&&this.update()},toDataURL:function(t){return this.canvas.toDataURL(t||this.mime)},update:function(){var t=new d({level:this.level,value:this.value});this._canvasRenderer.render(t),this._imageRenderer.render(t)}},{use:function(t){b.setService(t.getName(),t)}});Object.defineProperties(B.prototype,{canvas:{get:function(){return this._canvasRenderer.getElement()}},image:{get:function(){return this._imageRenderer.getElement()}}});var y=B,O=o.extend({getName:function(){}}).extend({createCanvas:function(){},createImage:function(){},getName:function(){return"element"},isCanvas:function(t){},isImage:function(t){}}).extend({createCanvas:function(){return document.createElement("canvas")},createImage:function(){return document.createElement("img")},isCanvas:function(t){return t instanceof HTMLCanvasElement},isImage:function(t){return t instanceof HTMLImageElement}});return y.use(new O),y});
</script>
</body>
</html>